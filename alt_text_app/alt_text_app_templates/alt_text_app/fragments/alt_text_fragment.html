{% comment %}
OpenRouter alt-text fragment.
Shows the generated alt text when available.
{% endcomment %}

{% if suggestions and suggestions.status == 'completed' and suggestions.alt_text %}
<div id="alt-text-container" class="summary-section">
    <h2>Suggested Alt Text</h2>
    <div class="summary-content">
        {{ suggestions.alt_text|linebreaks }}
    </div>
    {% if suggestions.model %}
    <p class="summary-meta">Generated by {{ suggestions.model }}</p>
    {% endif %}
</div>

{% elif suggestions and suggestions.status == 'processing' %}
<div id="alt-text-container" class="summary-section status-processing"
     hx-get="{% url 'alt_text_fragment_url' pk=document.pk %}"
     hx-trigger="every 3s"
     hx-swap="outerHTML">
    <h2>Suggested Alt Text</h2>
    <p>Generating alt text... please wait.</p>
</div>

{% elif suggestions and suggestions.status == 'failed' %}
<div id="alt-text-container" class="summary-section status-failed">
    <h2>Suggested Alt Text</h2>
    <p>Alt-text generation failed. Please try again later.</p>
</div>

{% elif suggestions and suggestions.status == 'pending' %}
<div id="alt-text-container" class="summary-section status-pending"
     hx-get="{% url 'alt_text_fragment_url' pk=document.pk %}"
     hx-trigger="every 3s"
     hx-swap="outerHTML">
    <h2>Suggested Alt Text</h2>
    <p>Alt-text generation queued...</p>
</div>

{% else %}
<div id="alt-text-container" class="summary-section">
    <h2>Suggested Alt Text</h2>
    <p>Alt text coming soon.</p>
</div>
{% endif %}
